<?phprequire './vendor/autoload.php';use YooKassa\Client;class QCASS {    public static function create_pay($user_id, $summ, $descr): string {        $client = new Client();        $client->setAuth(getParam('q_cass_shop_id'), getParam('q_cass_key'));        $idempotenceKey = uniqid('', true);        INCLUDE_CLASS('shops', 'pay');        $id_pay = PAY::init_pay($user_id, $summ, 'Пополнение счёта', $descr);        $code = md5($user_id.$id_pay.Core::$CRYPTER_SALT_1);        q("UPDATE `pays` SET `code`='".$code."' WHERE `id`=".$id_pay);        if($id_pay > -1) {            $response = $client->createPayment(                    array(                            'amount' => array(                                    'value' => (float) $summ,                                    'currency' => 'RUB',                            ),                            'payment_method_data' => array(                                    'type' => 'bank_card',                            ),                            'confirmation' => array(                                    'type' => 'redirect',                                    'return_url' => Core::$DOMAIN . 'profil?title=bank',                            ),                            'metadata' => array(                                    'id_pay' => $id_pay,                                    'user_id' => (int)$user_id,                                    'code'=>$code,                            ),                            'description' => $descr,                    ),                    $idempotenceKey            );            return $response->getConfirmation()->getConfirmationUrl();        } else {            t('error');            return '';        }    }}