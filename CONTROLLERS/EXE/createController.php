<?phpif(Access::scanLevel() <= 0) {    Message::addError('Создавать объявления могут только зарегистрированные пользователи...');    header('Location: /');}if(isset($_GET['s'])) {    $_SESSION['shop_id'] = (int)$_GET['s'];}if(!isset($_SESSION['shop_id'])) {    Message::addError('Истекла сессия текущего пользователя. Пожалуйста для продолжения работы - авторизуйтесь.');    header('Location: /');}include_CSS('profil');include_CDN_JS('https://api-maps.yandex.ru/2.1/?lang=ru_RU&apikey='.Core::$YANDEXGEOCODER.'&suggest_apikey='.Core::$SUGGEST_GEOCODER);$apps = new APP();  // объект для работы со всеми приложениями$shops = SUBD::get_executed_rows('shops', 'owner', Access::userID());//wtf($shops);$key = array_key_first($shops);if(isset($_SESSION['shop_id']) && isset($shops[$_SESSION['shop_id']])) {    $key = (int)$_SESSION['shop_id'];    INCLUDE_CLASS('SHOPS', 'shop');    if(!SHOP::is_my_shop($key)) {        Message::addError('Запрещена работа с товаром, который вам не пренадлежит...');        header('Location: /404');    }}$P = PROFIL::init(Access::userID());$order = [];if(isset($_GET['com'], $_GET['ord'], $_GET['s']) && $_GET['com'] === 'edit') {    $_SESSION['shop_id'] = $key = (int)$_GET['s'];    INCLUDE_CLASS('SHOPS', 'shop');    INCLUDE_CLASS('SHOPS', 'props_commander');    $order = SHOP::get_products_list_at_id((int)$_GET['s'], [(int)$_GET['ord']], true, 'name', 'ASC')[(int)$_GET['ord']];    $PROPS = new PROPS_COMMANDER($order['VALS']);//    say($order);    $price = $PROPS->get_all_props_at_field_name('Стоимость', true);    $descr = $PROPS->get_all_props_at_field_name('Описание', true);    $addr = $PROPS->get_all_props_at_field_name('Расположение', true);    $imgs = $PROPS->get_all_props_at_field_name('Изображение (фото)');//    wtf($imgs, 1);    if($addr['VALUE'] === '') {        $addr['VALUE'] = $P->get('city', 'Москва');    }//    wtf($addr, 1);//    wtf($order, 1);//    wtf($order, 1);}