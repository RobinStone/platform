<?php$city_id = GEONAMER::city_name_to_id(SITE::$my_place[0]) ?? -1;if(Access::scanLevel() > 0) {    $only_my_city = PP::_()->get('only_my_city', 'false');} else {    $only_my_city = 'true';}include_CSS('product');include_CSS('profil');include_JS('list_cards_product');include_JS('swipper_2');include_CSS('swipper_2');if(isMobile()) {    include_CSS('list_cards_product');    include_CSS('vertical-filter-list');} else {    include_CSS('vertical-filter-list');}include_JS('checker-toggler');INCLUDE_CLASS('shops', 'shop');INCLUDE_CLASS('shops', 'cataloger');$filter_name = $_COOKIE['filter_name'] ?? 'date';$cat_filter_matrix = [-1, -1, -1];$CAT = new CATALOGER();$count = [0,8];$menu_items = [];switch($type_page) {    case 'main_cat':        $items = [            $current['category'] => $current['cat_trans'],        ];        $before_addr = $current['cat_trans'].'/';        foreach($body_arr as $k=>$v) {            $menu_items[$k] = [                'ID'=>$v['id'],                'TYPE'=>'undercat',                'NAME'=>$v['under_cat'],                'TRANS'=>$v['undercat_trans'],                'LOGO_SVG'=>$v['logo'],                'LOGO_IMG'=>$v['logo_img'],                'COUNT_CHILD'=>count($v['ACTION_LIST'])            ];        }//        wtf($current);        $cat_filter_matrix[0] = (int)$current['id'];        break;    case 'under_cat':        $items = [            $main_cat['category'] => $main_cat['cat_trans'],            $current['under_cat'] => $current['undercat_trans'],        ];        $before_addr = $before_path;        foreach($body_arr as $k=>$v) {            $menu_items[$k] = [                'ID'=>$v['id'],                'TYPE'=>'actionlist',                'NAME'=>$v['lists'],                'TRANS'=>$v['translit'],                'LOGO_SVG'=>$v['logo'],                'LOGO_IMG'=>$v['logo_img'],                'COUNT_CHILD'=>-1            ];        }        $cat_filter_matrix[0] = (int)$main_cat['id'];        $cat_filter_matrix[1] = (int)$current['id'];        break;    case 'action_list':        $items = [            $main_cat['category'] => $main_cat['cat_trans'],            $under_cat['under_cat'] => $under_cat['undercat_trans'],            $current['lists'] => $current['translit'],        ];        $before_addr = $before_path;        $cat_filter_matrix[0] = (int)$main_cat['id'];        $cat_filter_matrix[1] = (int)$under_cat['id'];        $cat_filter_matrix[2] = (int)$current['id'];        break;}//wtf($preview_products, 1);//wtf('robin', 1);//wtf($current, 1);//wtf($menu_items, 1);//wtf($cat_filter_matrix);