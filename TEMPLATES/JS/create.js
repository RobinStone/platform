buffer_app = 'SHOPS';$(document).on('dragover', '.loader-img-form', function(e) {    e.preventDefault();    $(this).addClass('outline-drop');});$(document).on('dragleave', '.loader-img-form', function(e) {    e.preventDefault();    $(this).removeClass('outline-drop');});$(document).on('drop', '.loader-img-form', function(e) {    $(this).removeClass('outline-drop');    let dt = null;    if(typeof e.originalEvent === 'object') {        dt = e.originalEvent.dataTransfer;    } else {        dt = e.clipboardData;    }    e.stopPropagation();    e.preventDefault();    if(!dt && !dt.files) { return false ; }    // Получить список загружаемых файлов    let files = dt.files;    let types = [];    for (let i = 0; i < files.length; i++) {        types = files[i].type.split('/')[0];        if(files[i].size<=1073741824 && types === 'image') {            //////////////////////////////////////////////////////////////////////////            console.dir(files[i]);            let reader = new FileReader();            let img = files[i];            reader.onload = function(event) {                const image = new Image();                image.src = event.target.result;                let fileSizeInBytes = img.size;                let fileSizeInMegabytes = fileSizeInBytes / (1024 * 1024);                console.log('Размер файла: ' + fileSizeInMegabytes + ' МБ');                if(fileSizeInMegabytes > 5) {                    say('Файл занимает '+fileSizeInMegabytes+' Мб. Это много. Поищите другую фотографию, пожалуйста...', 2);                } else {                    let btn = $('<button onclick="del_img(this)" data-name="'+img.name+'" class="img-btn action-btn" title="Удалить изображение"></button>');                    $(image).attr('data-src', img.name);                    $(btn).append(image);                    $('.list-prev-img').append(btn);                    upload_files.push(img);                    console.log('UPLOAD_FILES COUNT='+upload_files.length);                }            }            reader.readAsDataURL(img);            //////////////////////////////////////////////////////////////////////////        } else {            if(types !== 'image') {                say('Разрешено загружать только изображения!..', 2);            } else {                say('Максимальный размер загружаемого файла = 5Мб', 2);            }        }    }});setInterval(function() {    let count = $('.list-prev-img img').length;    $('#count-imgs').text('Загружено '+count+' из 5');    if(count >= 5) {        $('#add-btn').addClass('disabled');    } else {        $('#add-btn').removeClass('disabled');    }}, 1000);setTimeout(function() {    $('.product-creator table tr:nth-child(6)').addClass('disabled');    $('.product-creator table tr:nth-child(7)').addClass('disabled');}, 10)$(document).on('input', '.product-creator tr td:nth-child(2) *', function(e) {    $(this).closest('tr').attr('edited-old', 'true');});function load_new_img() {    $('.table-focus label.action-btn #file-input').click();}function change_shop(obj) {    buffer_app = 'SHOPS';    let id = $(obj).find('option:selected').attr('data-id');    SENDER_APP('set_add_shop', {id: id}, function(mess) {        mess = JSON.parse(mess);        if(mess.status === 'ok') {            location.reload();        } else {            error_executing(mess);        }    });}function buffer_method_start() {    location.href = '/profil?title=my_orders&filter=not_show';}