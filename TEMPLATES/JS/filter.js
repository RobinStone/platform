$(document).on('click', 'details', function(e) {    let obj = this;    setTimeout(function() {        let html = '';        if($mobile) {            html = $('#mobile-side-menu').html();            localStorage.removeItem('create-form');        localStorage.setItem('side-menu', html);        } else {            html = $(obj).closest('.filter.grey-panel').html();            localStorage.removeItem('create-form');        localStorage.setItem('side-menu', html);        }    }, 200);});function set_filter(filter_name) {    setCookies('filter_name', filter_name);    location.reload();}function render_filter_items(type_filter='main_cat|under_cat|action_list', limit=[0,8], append_mode='append|replace') {}$(window).on('load', function() {    if(!$mobile) {        upload_side_menu_filter('desctop');        let b_width = $('#cat-list').width();        let count_cat_cards = $('#cat-list .swiper-slide').length;        let lwidth = $('#cat-list .swiper-slide:first-child').width();        if(b_width < (count_cat_cards * lwidth)) {        } else {            $('#cat-list').css('justify-content', 'center');        }    }});function save_map_side_menu() {    let html = $('.filter.grey-panel').html();    localStorage.removeItem('create-form');    localStorage.setItem('side-menu', html);}function upload_side_menu_filter(type='desctop | mobile') {    let buff_side_menu = localStorage.getItem('side-menu');    if(buff_side_menu === 'undefined' || buff_side_menu === '' || localStorage.getItem('time_update_side_menu') !== time_update_side_menu) {        localStorage.setItem('time_update_side_menu', time_update_side_menu);        console.log('---------------');        console.dir(caterorys_all);        let pnl = $('<ul class="side-menu"></ul>');        let cat = null;        let under_cat = null;        let list = null;        for (let i in caterorys_all) {            cat = caterorys_all[i];            let cat_item = $('<details type="main-cat" data-id="' + cat['id'] + '"><summary>' + cat['category'] + '</summary><ul class="under-cat-list"><li><a class="first-link" href="/' + cat['cat_trans'] + '">Перейти в "' + cat['category'] + '"</a></li></ul></details>');            if (typeof cat['UNDERCATS'] !== 'undefined') {                for (let ii in cat['UNDERCATS']) {                    under_cat = cat['UNDERCATS'][ii];                    let under_cat_item = $('<li><details type="under-cat" data-id="' + under_cat['id'] + '"><summary>' + under_cat['under_cat'] + '</summary><ul class="action-lists"><li><a class="first-link" href="/' + cat['cat_trans'] + '/' + under_cat['undercat_trans'] + '">Перейти в "' + under_cat['under_cat'] + '"</a></li></ul></details></li>');                    if (typeof under_cat['LISTS'] !== 'undefined') {                        for (let iii in under_cat['LISTS']) {                            list = under_cat['LISTS'][iii];                            let action_list_item = $('<li type="action-list" data-id="' + under_cat['id'] + '"><a class="action-list-item" href="/' + cat['cat_trans'] + '/' + under_cat['undercat_trans'] + '/' + list['translit'] + '">' + list['lists'] + '</a></li>');                            $(under_cat_item).find('.action-lists').append(action_list_item);                        }                    }                    $(cat_item).find('.under-cat-list').append(under_cat_item);                }            }            $(pnl).append(cat_item);        }        if(type === 'desctop') {            $('.filter').empty();            $('.filter').append(pnl);        } else {            $('#mobile-side-menu').empty();            $('#mobile-side-menu').append(pnl);        }        save_map_side_menu();        console.log('side-menu сгенерировано как новое');    } else {        if(type === 'desctop') {            $('.filter.grey-panel').html(buff_side_menu);        } else {            $('#mobile-side-menu').html(buff_side_menu);        }        console.log('side-menu вызвано из буфера');    }}