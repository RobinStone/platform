<?php$img = $arr['PROPS']['images'][0]['value'];$price = $arr['price'];if(file_exists('./DOWNLOAD/'.$img)) {    if(isMobile()) {        $img = './IMG/img300x300/'.$img;    } else {        $img = './IMG/img100x100/'.$img;    }} else {    $img = './IMG/SYS/img_not_exists.svg';}$local_place = $arr['PROPS']['place'][0]['value'];if($local_place === '') {    $local_place = $arr['CITY'];}$discount = (int)($arr['PROPS']['discount'][0]['value'] ?? 0);$datetime1 = new DateTime($arr['active_to']);$datetime2 = new DateTime(date('Y-m-d H:i:s'));$interval = $datetime1->diff($datetime2);if($datetime1 > $datetime2) {    $hours = 'Осталось ' . $interval->format("%d дн. %H ч. %I мин.");} else {    $hours = 'Время вышло';}$on_click = 'to_hi_level(this)';$text = 'Продвижение';$deff_block = '';$class = '';switch($arr['status']) {    case 'archive':    case 'not_show':        $on_click = 'published(this)';        $text = 'Опубликовать';        $class = ' publish-btn ';        break;    case 'active':        $deff_block = '<button onclick="archive_item(this)" class="btn btn-red archive-btn" title="Снять с публикации">Архивировать</button>';        $class = ' higger-btn ';        break;}//wtf($arr, 1);?><li data-id="<?=$arr['prod_id']?>" data-id-shop="<?=$arr['shop_id']?>" class="flex gap-20 one-order align-center">    <label class="check-ordr">        <input type="checkbox">    </label>    <div class="img-wrapper"><img width="100" height="70" src="<?=$img?>"></div>    <div class="flex between column center-block">        <h2><a class="h2 count-lines-1" target="_blank" href="/<?=$arr['main_cat_trans'].'/'.$arr['under_cat_trans'].'/'.$arr['action_list_trans'].'/'.VALUES::translit($arr['name']).'?s='.$arr['shop_id'].'&prod='.$arr['prod_id']?>"><?=$arr['name']?></a></h2>        <div class="flex gap-5">            <div class="price <?php if($discount > 0) { echo ' old-price'; } ?>"><?=VALUES::price_format($price)?> P</div>            <?php if($discount > 0) { ?>            <div class="price discount">-<?=$discount?> %</div>            <div class="price finish-price"><?=VALUES::price_format(($price - ($price*$discount)/100))?> P</div>            <?php } ?>        </div>        <ul class="micro-block">            <li class="flex align-center gap-10"><span class="svg-wrapper" style="min-width: 20px"><?=RBS::SVG('location')?></span><span><?=$local_place?></span></li>            <li class="flex align-center gap-10"><span class="svg-wrapper" style="min-width: 20px"><?=RBS::SVG('eye_green')?></span><span>Просмотров (<?=$arr['showed']?>)</span></li>            <?php            $count = (int)$arr['count'];            if($count > 0 || $count === -1) {                if($count > 0) {                ?>            <li class="flex align-center gap-10"><span class="svg-wrapper" style="min-width: 20px"><?=RBS::SVG('cubs.svg')?></span><span>Осталось (<?=$count?>)</span></li>                <?php } else { ?>                    <li class="flex align-center gap-10"><span class="svg-wrapper" style="min-width: 20px"><?=RBS::SVG('cubs.svg')?></span><span>Всегда в наличие</span></li>                <?php } ?>            <?php } ?>            <li class="flex align-center gap-10"><span class="svg-wrapper" style="min-width: 20px"><?=RBS::SVG('alarm_clock')?></span><span><?=$hours?></span></li>        </ul>    </div>    <div class="right-block">        <button onclick="edit_order(this)" class="btn">Редактировать</button>        <button onclick="<?=$on_click?>" data-status="<?=$arr['status']?>" class="btn <?=$class?>"><?=$text?></button>        <?=$deff_block?>        <?php if($arr['status'] === 'archive') { ?><!--            <button onclick="delete_item(this)" class="btn btn-red archive-btn" title="Полностью удалить">Удалить</button>-->        <?php } ?>    </div></li>