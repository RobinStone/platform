<?phpinclude_once './APPLICATIONS/SHOPS/libs/class_CATALOGER.php';$cats = new CATALOGER();$C_LIST = $cats->cat;$linker = (int)getParam('linker');$buffer_file = "./SITE/menu_desctop.html";if(isMobile()) {    $buffer_file = "./SITE/menu_mobile.html";}if(!file_exists($buffer_file) || $linker == 0) {    ob_start();if(!isMobile()) {//    say($C_LIST);    ?>    <menu class="menu-wrapper flex between align-center hidden-menu wrapper">        <ul class="main-cats-menu">            <?php foreach($C_LIST as $k=>$v) {                echo '<li data-id="'.$k.'" class="menu-item flex align-center gap-20"><a href="/'.$v['cat_trans'].'" class="flex align-center gap-20"><div class="svg-wrapper"><img loading="lazy" src="/DOWNLOAD/'.$v['logo'].'"></div><div>'.$v['category'].'</div></a></li>';            } ?>        </ul>        <div class="under-cats-list-block">            <div class="header-line flex align-center" style="justify-content: right"><button onclick="show_hide_menu()" class="action-btn" style="color: #fff; margin-right: 10px; font-size: 2em; background: none; border: none">&#128937;</button></div>            <ul class="under-lists">                <?php foreach($C_LIST as $k=>$un) { ?>                    <li data-maincat-id="<?=$k?>" class="under-cat-big-card invisible">                        <?php                        foreach($un['UNDERCATS'] as $kk=>$vv) {                            if(true) {//                            if(isset($vv['LISTS']) && count($vv['LISTS']) > 0) {                            ?>                            <div class="menu-card">                                <a href="/<?=$C_LIST[$k]['cat_trans']?>/<?=$vv['undercat_trans']?>" class="title-menu-card"><?=$vv['under_cat']?></a>                                <ul class="card-lists">                                    <?php                                    if(isset($vv['LISTS'])) {                                        foreach ($vv['LISTS'] as $kkk => $vvv) {                                            echo '<li data-id-list="' . $kkk . '"><a href="/'.$C_LIST[$k]['cat_trans'].'/'.$vv['undercat_trans'].'/'.$vvv['translit'].'">' . $vvv['lists'] . '</a></li>';                                        }                                    }                                    ?>                                </ul>                            </div>                            <?php } ?>                        <?php } ?>                    </li>                <?php } ?>            </ul>        </div>    </menu>    <script>        setTimeout(function() {            $(document).on('mouseenter', '.menu-item', function(e) {                let id = $(this).attr('data-id');                select_cat_menu(id);            });        }, 100);        function select_cat_menu(id_main_cat) {            $('.under-cat-big-card').addClass('invisible');            $('li[data-maincat-id="'+id_main_cat+'"]').removeClass('invisible');        }    </script><?php } else {?>    <menu class="menu-wrapper hidden-menu">        <ul class="main-cats-menu">            <?php foreach($C_LIST as $k=>$v) {                echo '<li class="menu-item">';                echo '<details class="main-cat"><summary class="flex gap-10 align-center"><div class="svg-wrapper"><img loading="lazy" src="/DOWNLOAD/'.$v['logo'].'"></div><div>'.$v['category'].'</div></summary>';                echo '<a style="padding-left: 15px; font-weight: 600" href="/'.$C_LIST[$k]['cat_trans'].'">Все подкатегории "'.$v['category'].'"</a>';                echo '<div>';                foreach($v['UNDERCATS'] as $kk=>$vv) {                    if(true) {//                    if(isset($vv['LISTS']) && count($vv['LISTS']) > 0) {                        echo '<details class="bord"><summary class="under-cat-little">'.$vv['under_cat'].'</summary>';                        echo '<div tabindex="0" class="micro-list">';                        echo '<a style="font-weight: 600" href="/'.$C_LIST[$k]['cat_trans'].'/'.$vv['undercat_trans'].'">Все "'.$vv['under_cat'].'"</a>';                        if(isset($vv['LISTS'])) {                            foreach ($vv['LISTS'] as $kkk => $vvv) {                                echo '<a href="/' . $C_LIST[$k]['cat_trans'] . '/' . $vv['undercat_trans'] . '/' . $vvv['translit'] . '">' . $vvv['lists'] . '</a>';                            }                        }                        echo '</div></details>';                    }                }                echo '</div>';                echo '</details></li>';            } ?>        </ul>    </menu><?php } ?><script>    caterorys_all = <?=json_encode($C_LIST, JSON_UNESCAPED_UNICODE)?>;</script><?php$cont = ob_get_clean();if($linker == 1) {    if (isMobile()) {        file_put_contents('./SITE/menu_mobile.html', $cont);    } else {        file_put_contents('./SITE/menu_desctop.html', $cont);    }}} else {    $cont = file_get_contents($buffer_file);}echo $cont;